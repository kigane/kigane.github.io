(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{523:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"用label显示图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用label显示图片"}},[t._v("#")]),t._v(" 用Label显示图片")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imageLabel "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" QLabel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义组件调色板中的刷子用于呈现背景")]),t._v("\nself"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imageLabel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setBackgroundRole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("QPalette"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Base"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nself"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imageLabel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setSizePolicy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("QSizePolicy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Ignored"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" QSizePolicy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Ignored"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将缩放PIXMAP以填充可用空间。")]),t._v("\nself"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imageLabel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setScaledContents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# QLabel的pixmap属性用于设置图像")]),t._v("\nimage "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" QImage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nself"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imageLabel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setPixmap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("QPixmap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fromImage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("ul",[s("li",[t._v("QSizePolicy::Fixed：固定尺寸不能变")]),t._v(" "),s("li",[t._v("QSizePolicy::Minimum：可以放大")]),t._v(" "),s("li",[t._v("QSizePolicy::Maximum：可以缩小")]),t._v(" "),s("li",[t._v("QSizePolicy::Preferred：可以放大也可以缩小")]),t._v(" "),s("li",[t._v("QSizePolicy::Expanding：自动放大和缩小")]),t._v(" "),s("li",[t._v("QSizePolicy::MinimumExpanding：至少为给定尺寸，可以自动放大")]),t._v(" "),s("li",[t._v("QSizePolicy::Ignored：忽略给定尺寸。组件的大小不受限制。")])]),t._v(" "),s("h2",{attrs:{id:"打开文件-qfiledialog"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打开文件-qfiledialog"}},[t._v("#")]),t._v(" 打开文件--QFileDialog")]),t._v(" "),s("h3",{attrs:{id:"static-成员"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#static-成员"}},[t._v("#")]),t._v(" static 成员")]),t._v(" "),s("ul",[s("li",[t._v("getExistingDirectory() -> dirpath")]),t._v(" "),s("li",[t._v("getExistingDirectoryUrl() -> QUrl('file:///F:/xxx/xx')")]),t._v(" "),s("li",[t._v("getOpenFileName() -> filepath, filter_str")]),t._v(" "),s("li",[t._v("getOpenFileNames()-> filepath_list, filter_str")]),t._v(" "),s("li",[t._v("getOpenFileUrl()")]),t._v(" "),s("li",[t._v("getOpenFileUrls()")]),t._v(" "),s("li",[t._v("getSaveFileName() -> filepath, filter_str 只返回一个用户输入的文件名，并没有真的创建文件")]),t._v(" "),s("li",[t._v("getSaveFileUrl()")]),t._v(" "),s("li",[t._v("参数说明\n"),s("ul",[s("li",[t._v("caption='Dialog Title'")]),t._v(" "),s("li",[t._v("directory='F:/' 初始路径")]),t._v(" "),s("li",[s("code",[t._v("filter='Images (*.png *.xpm *.jpg);;Text files (*.txt);;All Files (*)'")]),t._v(" 过滤器。多个过滤器用两个分号隔开。")])])])]),t._v(" "),s("h3",{attrs:{id:"signals"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#signals"}},[t._v("#")]),t._v(" signals")]),t._v(" "),s("ul",[s("li",[t._v("currentChanged(QString)： 当前文件改变了。参数为新文件名。")]),t._v(" "),s("li",[t._v("currentUrlChanged(QUrl)：当前文件改变了。参数为新文件URL。")]),t._v(" "),s("li",[t._v("directoryEntered(QString)：用户进入某个目录")]),t._v(" "),s("li",[t._v("directoryUrlEntered(QUrl)")]),t._v(" "),s("li",[t._v("fileSelected(QString)：选择文件变化时。参数为选中的文件。")]),t._v(" "),s("li",[t._v("filterSelected(QString)")]),t._v(" "),s("li",[t._v("urlSelected(QUrl)")]),t._v(" "),s("li",[s("code",[t._v("urlsSelected(QList<QUrl>)")])]),t._v(" "),s("li",[t._v("filesSelected(QStringList)：用户选择过滤器时。")])]),t._v(" "),s("h2",{attrs:{id:"scrollarea"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scrollarea"}},[t._v("#")]),t._v(" ScrollArea")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检查Action是否被勾选")]),t._v("\nfitToWindow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fitToWindowAct"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isChecked"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# WidgetResizable为false，scrollArea拥有Widget的大小")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 为True，则scrollArea会调整Widget大小以尽量避免滚动条，或更充分利用空间。")]),t._v("\nself"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollArea"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setWidgetResizable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fitToWindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("ul",[s("li",[t._v("self.scrollArea.horizontalScrollBar() 获取水平滚动条")]),t._v(" "),s("li",[t._v("self.scrollArea.verticalScrollBar()")]),t._v(" "),s("li",[t._v("scrollBar.value()")]),t._v(" "),s("li",[t._v("scrollBar.setValue() 设置滚动条的位置")])]),t._v(" "),s("h2",{attrs:{id:"qpainter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#qpainter"}},[t._v("#")]),t._v(" QPainter")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("printer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" QPrinter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ndialog "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" QPrintDialog"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("printer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" dialog"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exec_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    painter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" QPainter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("printer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    rect "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" painter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("viewport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    size "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imageLabel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pixmap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scale"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Qt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("KeepAspectRatio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    painter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setViewport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    painter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setWindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imageLabel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pixmap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    painter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("drawPixmap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imageLabel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pixmap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h2",{attrs:{id:"代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码"}},[t._v("#")]),t._v(" 代码")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://gist.github.com/acbetter/32c575803ec361c3e82064e60db4e3e0",target:"_blank",rel:"noopener noreferrer"}},[t._v("查看完整代码"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);