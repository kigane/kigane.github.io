(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{383:function(s,a,t){"use strict";t.r(a);var e=t(44),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://nju-projectn.github.io/ics-pa-gitbook/ics2020/0.1.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("NJU PA0"),t("OutboundLink")],1),t("br"),s._v("\n分区：此电脑->管理->磁盘管理，选择磁盘，右键->压缩卷，分配适当空间即可，不用新建简单卷。")]),s._v(" "),t("h2",{attrs:{id:"设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置"}},[s._v("#")]),s._v(" 设置")]),s._v(" "),t("ul",[t("li",[s._v("sudo apt install gnome-tweaks")]),s._v(" "),t("li",[s._v("sudo apt remove gnome-shell-extension-ubantu-dock")]),s._v(" "),t("li",[s._v("sudo dpkg -i package_file.deb")])]),s._v(" "),t("h2",{attrs:{id:"关于键位"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于键位"}},[s._v("#")]),s._v(" 关于键位")]),s._v(" "),t("ul",[t("li",[s._v("C == ctrl, S == shift, M == meta | alt | esc")]),s._v(" "),t("li",[s._v("ESC == "),t("code",[s._v("C-[")])]),s._v(" "),t("li",[s._v("Up == "),t("code",[s._v("C-p")])]),s._v(" "),t("li",[s._v("Down == "),t("code",[s._v("C-n")])]),s._v(" "),t("li",[s._v("Left == "),t("code",[s._v("C-b")])]),s._v(" "),t("li",[s._v("Right == "),t("code",[s._v("C-f")])])]),s._v(" "),t("p",[s._v("在vim等应用中"),t("code",[s._v("C-s")]),s._v("会导致无法交互，据说是和software flow control有关。按"),t("code",[s._v("C-q")]),s._v("可以退出这种状态。")]),s._v(" "),t("h2",{attrs:{id:"ansi转义码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ansi转义码"}},[s._v("#")]),s._v(" ANSI转义码")]),s._v(" "),t("ul",[t("li",[s._v("CSI 控制序列起始符 "),t("code",[s._v("ESC[")])]),s._v(" "),t("li",[s._v("SGR 修改接下来的字符外观 "),t("code",[s._v("CSI n m")]),s._v(" n为字符外观选项，可以控制字符颜色，斜体，下划线，闪烁等外观。m为SGR终止符。"),t("code",[s._v("CSI n m")]),s._v("相当于"),t("code",[s._v("CSI 0 m")]),s._v("。可以使用多个选项，中间用"),t("code",[s._v(";")]),s._v("隔开即可。如"),t("code",[s._v("\\033[4;31m")]),s._v("，为红色带下划线。")]),s._v(" "),t("li",[t("code",[s._v("ESC")]),s._v(" = "),t("code",[s._v("\\033")]),s._v(" = "),t("code",[s._v("\\e")]),s._v("(echo -e时)")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("n")]),s._v(" "),t("th",[s._v("Name")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("0")]),s._v(" "),t("td",[s._v("Reset or normal, All attributes off")])]),s._v(" "),t("tr",[t("td",[s._v("1")]),s._v(" "),t("td",[s._v("Bold or increased intensity")])]),s._v(" "),t("tr",[t("td",[s._v("2")]),s._v(" "),t("td",[s._v("Faint, decreased intensity, or dim")])]),s._v(" "),t("tr",[t("td",[s._v("3")]),s._v(" "),t("td",[s._v("Italic")])]),s._v(" "),t("tr",[t("td",[s._v("4")]),s._v(" "),t("td",[s._v("Underline")])]),s._v(" "),t("tr",[t("td",[s._v("5")]),s._v(" "),t("td",[s._v("Slow blink")])]),s._v(" "),t("tr",[t("td",[s._v("9")]),s._v(" "),t("td",[s._v("Crossed-out, or strike")])]),s._v(" "),t("tr",[t("td",[s._v("10")]),s._v(" "),t("td",[s._v("Primary (default) font")])]),s._v(" "),t("tr",[t("td",[s._v("11–19")]),s._v(" "),t("td",[s._v("Alternative font")])]),s._v(" "),t("tr",[t("td",[s._v("30–37")]),s._v(" "),t("td",[s._v("Set foreground color")])]),s._v(" "),t("tr",[t("td",[s._v("38")]),s._v(" "),t("td",[s._v("Set foreground color, Next arguments are 5;n or 2;r;g;b")])]),s._v(" "),t("tr",[t("td",[s._v("39")]),s._v(" "),t("td",[s._v("Default foreground color")])]),s._v(" "),t("tr",[t("td",[s._v("40–47")]),s._v(" "),t("td",[s._v("Set background color")])]),s._v(" "),t("tr",[t("td",[s._v("48")]),s._v(" "),t("td",[s._v("Set background color, Next arguments are 5;n or 2;r;g;b")])]),s._v(" "),t("tr",[t("td",[s._v("49")]),s._v(" "),t("td",[s._v("Default background color")])])])]),s._v(" "),t("h3",{attrs:{id:"_8-bit颜色"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-bit颜色"}},[s._v("#")]),s._v(" 8-bit颜色")]),s._v(" "),t("ul",[t("li",[s._v("ESC[38;5;⟨n⟩m 设置字体颜色")]),s._v(" "),t("li",[s._v("ESC[48;5;⟨n⟩m 设置背景颜色")]),s._v(" "),t("li",[s._v("0-  7:  standard colors (as in ESC [ 30–37 m)")]),s._v(" "),t("li",[s._v("8- 15:  high intensity colors (as in ESC [ 90–97 m)")]),s._v(" "),t("li",[s._v("16-231:  6 × 6 × 6 cube (216 colors): 16 + 36 × r + 6 × g + b (0 ≤ r, g, b ≤ 5)")]),s._v(" "),t("li",[s._v("232-255:  grayscale from black to white in 24 steps")])]),s._v(" "),t("h3",{attrs:{id:"_24-bit颜色-rgb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_24-bit颜色-rgb"}},[s._v("#")]),s._v(" 24-bit颜色(RGB)")]),s._v(" "),t("ul",[t("li",[s._v("ESC[38;2;⟨r⟩;⟨g⟩;⟨b⟩m 设置RGB字体颜色")]),s._v(" "),t("li",[s._v("ESC[48;2;⟨r⟩;⟨g⟩;⟨b⟩m 设置RGB背景颜色")])]),s._v(" "),t("h2",{attrs:{id:"unix哲学"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unix哲学"}},[s._v("#")]),s._v(" Unix哲学:")]),s._v(" "),t("ul",[t("li",[s._v("每个程序只做一件事, 但做到极致")]),s._v(" "),t("li",[s._v("用程序之间的相互协作来解决复杂问题")]),s._v(" "),t("li",[s._v("每个程序都采用文本作为输入和输出, 这会使程序更易于使用")])]),s._v(" "),t("h2",{attrs:{id:"linux命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux命令"}},[s._v("#")]),s._v(" Linux命令")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -h "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看硬盘空间使用情况")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到root用户")]),s._v("\nadduser username "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将用户分到sudo组")]),s._v("\nhostnamectl "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示主机信息 在/etc/hostname /etc/hosts 中修改主机名")]),s._v("\nlscpu "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看cpu信息")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("文件管理 - cd, pwd, mkdir, rmdir, ls, cp, rm, mv, tar"),t("br"),s._v("\n文件检索 - cat, more, less, head, tail, file, find"),t("br"),s._v("\n输入输出控制 - 重定向, 管道, tee, xargs"),t("br"),s._v("\n文本处理 - vim, grep, awk, sed, sort, wc, uniq, cut, tr"),t("br"),s._v("\n系统监控 - jobs, ps, top, kill, free, demsg, lsof"),t("br"),s._v("\n具体见Shell页")]),s._v(" "),t("h3",{attrs:{id:"别名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#别名"}},[s._v("#")]),s._v(" 别名")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("alias")]),s._v(" 列出已定义的别名")]),s._v(" "),t("li",[t("code",[s._v('alias shortname="your custom cmd"')]),s._v(" 定义临时别名")]),s._v(" "),t("li",[t("code",[s._v("unalias shortname")]),s._v(" 取消")]),s._v(" "),t("li",[t("code",[s._v("unalias -a")]),s._v(" 全部取消")]),s._v(" "),t("li",[s._v("在~/.bashrc中定义，并 source ~/.bashrc。定义永久别名")])]),s._v(" "),t("p",[s._v("PS:alias不支持参数，所以要使用参数的话，可以在.bashrc中定义shell函数。")]),s._v(" "),t("h3",{attrs:{id:"特别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#特别"}},[s._v("#")]),s._v(" 特别")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dmesg")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出OS的启动日志")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[s._v("#")]),s._v(" 环境变量")]),s._v(" "),t("ul",[t("li",[s._v("临时定义："),t("code",[s._v("export name=value")]),s._v(" -- 只对当前shell及其子shell有效")]),s._v(" "),t("li",[s._v("永久定义，使用配置文件\n"),t("ul",[t("li",[s._v("用户: "),t("code",[s._v("~/.bash_profile")])]),s._v(" "),t("li",[s._v("系统: "),t("code",[s._v("/etc/profile")])])])])]),s._v(" "),t("p",[s._v("其他相关命令")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("env")]),s._v(": 查看所有环境变量")]),s._v(" "),t("li",[t("code",[s._v("set")]),s._v(": 显示本地定义的shell变量,包括在.bashrc中定义的函数")]),s._v(" "),t("li",[t("code",[s._v("unset")]),s._v(": 清除环境变量 unset HELLO")]),s._v(" "),t("li",[t("code",[s._v("readonly")]),s._v(": 设置只读环境变量 readonly HELLO")])]),s._v(" "),t("h2",{attrs:{id:"工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工具"}},[s._v("#")]),s._v(" 工具")]),s._v(" "),t("h3",{attrs:{id:"tmux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tmux"}},[s._v("#")]),s._v(" tmux")]),s._v(" "),t("p",[t("code",[s._v("sudo apt-get install tmux")])]),s._v(" "),t("ul",[t("li",[s._v("获取所有命令列表: C-b ?")]),s._v(" "),t("li",[s._v("创建Session: tmux new -s session_name")]),s._v(" "),t("li",[s._v("离开Session: C-b d(程序仍会继续运行)")]),s._v(" "),t("li",[s._v("回到Session: tmux ls; tmux attach-session -t 0")]),s._v(" "),t("li",[s._v("结束Session: tmux kill-session -t session_name")]),s._v(" "),t("li",[s._v("列出所有Session: C-b s")]),s._v(" "),t("li",[s._v("重命名当前Session: C-b $")])]),s._v(" "),t("p",[s._v("管理Tmux窗口")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("C-b c")]),s._v(" 创建新窗口")]),s._v(" "),t("li",[t("code",[s._v("C-b w")]),s._v(" 列出所有窗口，从中选一个作为当前窗口")]),s._v(" "),t("li",[t("code",[s._v("C-b 0-9")]),s._v(" 切换到窗口0-9")]),s._v(" "),t("li",[t("code",[s._v("C-b p | n")]),s._v(" 切换到前|后一个窗口")]),s._v(" "),t("li",[t("code",[s._v("C-b ,")]),s._v(" 重命名当前窗口")])]),s._v(" "),t("p",[s._v("pane")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("C-b %")]),s._v(" 分割为左右两个pane")]),s._v(" "),t("li",[t("code",[s._v('C-b "')]),s._v(" 分割为上下两个pane")]),s._v(" "),t("li",[t("code",[s._v("C-b o")]),s._v(" 跳转到下一个pane")]),s._v(" "),t("li",[t("code",[s._v("C-b h")]),s._v(" 跳转到左边的pane。同理 j,k,l.")]),s._v(" "),t("li",[t("code",[s._v("C-b q")]),s._v(" 显示pane数量")]),s._v(" "),t("li",[t("code",[s._v("C-b ;")]),s._v(" 在当前和上一个pane间反复横跳")]),s._v(" "),t("li",[t("code",[s._v("C-b x")]),s._v(" 关闭当前pane")]),s._v(" "),t("li",[t("code",[s._v("C-b {")]),s._v(" 将当前pane移动到前一个pane位置")]),s._v(" "),t("li",[t("code",[s._v("C-b }")]),s._v(" 将当前pane移动到后一个pane位置")]),s._v(" "),t("li",[t("code",[s._v("C-b C-o")]),s._v(" 将所有窗口顺时针旋转")]),s._v(" "),t("li",[t("code",[s._v("C-b M-o")]),s._v(" 将所有窗口逆时针旋转")]),s._v(" "),t("li",[t("code",[s._v("C-b !")]),s._v("   move the current pane into a new separate window (‘break pane’)")])]),s._v(" "),t("p",[s._v("命令行")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("C-b [")]),s._v(" 进入scroll模式，q退出")]),s._v(" "),t("li",[t("code",[s._v("C-b PgUp")]),s._v(" 进入scroll模式，并向上翻一页")])]),s._v(" "),t("p",[s._v("调整窗口大小")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("C-b :")]),s._v(" 会在底部显示命令行\n"),t("ul",[t("li",[s._v("输入 resize-pana -Direction #")]),s._v(" "),t("li",[s._v("Direction: U, D, L, R")]),s._v(" "),t("li",[s._v("#：数字，当前窗口向某方向上调整的尺寸。")])])])]),s._v(" "),t("h3",{attrs:{id:"tree"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tree"}},[s._v("#")]),s._v(" tree")]),s._v(" "),t("p",[t("code",[s._v("sudo apt-get install tree")])]),s._v(" "),t("ul",[t("li",[s._v("tree dir: 以树状形式展示文件夹内容")]),s._v(" "),t("li",[s._v("tree: 相当于"),t("code",[s._v("tree .")])]),s._v(" "),t("li",[s._v("-d: 只显示dir")]),s._v(" "),t("li",[s._v("-f: 显示每个文件的完整路径")]),s._v(" "),t("li",[s._v("-i: 不显示缩进")]),s._v(" "),t("li",[s._v("-L level: 设置最大显示深度")]),s._v(" "),t("li",[s._v("-P pattern: 只显示pattern匹配的文件(如果要显示.xx，需要加上-a)")]),s._v(" "),t("li",[s._v("-I pattern: 不显示pattern匹配的文件")]),s._v(" "),t("li",[s._v("--ignore-case")]),s._v(" "),t("li",[s._v("--filelimit #: 不展开包含#个文件以上的文件夹")])]),s._v(" "),t("p",[s._v("文件显示选项")]),s._v(" "),t("ul",[t("li",[s._v("-Q: 文件名加上双引号")]),s._v(" "),t("li",[s._v("-u: 显示用户名")]),s._v(" "),t("li",[s._v("-g: 显示用户组名")]),s._v(" "),t("li",[s._v("-D: 显示最后修改日期")]),s._v(" "),t("li",[s._v("-s: 显示文件大小(byte)")]),s._v(" "),t("li",[s._v("-h: 显示文件大小(更人性化)")]),s._v(" "),t("li",[s._v("-F: 显示文件类型(/:dir, =:socket fils, *:可执行文件, |:FIFO, >:doors)")])]),s._v(" "),t("p",[s._v("排序")]),s._v(" "),t("ul",[t("li",[s._v("-t: 最后修改时间")]),s._v(" "),t("li",[s._v("-U: 不排序")]),s._v(" "),t("li",[s._v("-r: 逆序")]),s._v(" "),t("li",[s._v("--dirsfirst: 文件夹放前面")]),s._v(" "),t("li",[s._v("--sort=size (ctime, mtime, version)")])]),s._v(" "),t("p",[s._v("输出模式")]),s._v(" "),t("ul",[t("li",[s._v("-X: xml")]),s._v(" "),t("li",[s._v("-J: json")]),s._v(" "),t("li",[s._v("-H baseHREF: html")])]),s._v(" "),t("h2",{attrs:{id:"makefile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#makefile"}},[s._v("#")]),s._v(" makefile")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.gnu.org/software/make/manual/html_node/index.html#SEC_Contents",target:"_blank",rel:"noopener noreferrer"}},[s._v("GNU make 手册"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("echoing：回显。通常make会将先执行的命令打印出来再执行该命令。使用-s选项关闭所有命令的回显。-n选项只打印命令，不执行。\n在命令行开头加上"),t("code",[s._v("@")]),s._v("可关闭该命令的回显(-n仍会打印出来)。")]),s._v(" "),t("p",[s._v("在命令行开头加上"),t("code",[s._v("-")]),s._v("表示如果该命令执行发生错误就忽略它。")]),s._v(" "),t("h3",{attrs:{id:"基本规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本规则"}},[s._v("#")]),s._v(" 基本规则")]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("target")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" file1 file2\n    gcc -o a.out file1 file2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("#代表注释")]),s._v(" "),t("li",[s._v("命令行前必须有<tab>")]),s._v(" "),t("li",[s._v("target和依赖文件之间以 "),t("code",[s._v(":")]),s._v(" 隔开")]),s._v(" "),t("li",[s._v("make target : 会执行相应命令行")]),s._v(" "),t("li",[s._v("make: 会默认执行第一个target")])]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[s._v("LIBS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -lm\nOBJ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" file1 file2\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("target")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("OBJ"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    gcc -o "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("OBJ"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("LIBS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("makefile的变量")]),s._v(" "),t("ul",[t("li",[s._v("变量从行开头开始写")]),s._v(" "),t("li",[s._v("= 附近可以有空格")]),s._v(" "),t("li",[s._v("习惯上，用大写字母")]),s._v(" "),t("li",[s._v("(var)或{var}取得变量的值")]),s._v(" "),t("li",[s._v("可以使用shell的环境变量\n"),t("ul",[t("li",[s._v("在make target命令行中指定的环境变量优先考虑")]),s._v(" "),t("li",[s._v("makefile内部定义的环境变量次之")]),s._v(" "),t("li",[s._v("shell的环境变量最后")])])]),s._v(" "),t("li",[t("code",[s._v("$@")]),s._v(" 代表 target 位置的内容")]),s._v(" "),t("li",[t("code",[s._v("$xx")]),s._v(" 称为"),t("a",{attrs:{href:"https://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("automatic variables"),t("OutboundLink")],1)])]),s._v(" "),t("h3",{attrs:{id:"设置变量-变量展开"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置变量-变量展开"}},[s._v("#")]),s._v(" 设置变量&变量展开")]),s._v(" "),t("p",[s._v("make中变量展开方式有两种")]),s._v(" "),t("ul",[t("li",[s._v("递归展开: 使用 "),t("code",[s._v("=")]),s._v("或"),t("code",[s._v("define\\n....\\n endef")]),s._v("。 类似引用。")]),s._v(" "),t("li",[s._v("简单展开：使用 "),t("code",[s._v(":=")]),s._v(" 或 "),t("code",[s._v("::=")]),s._v("。逐行处理。")]),s._v(" "),t("li",[s._v("变量还有一种条件设置方式：使用"),t("code",[s._v("?=")]),s._v("。即如果该变量已经定义了，不会再次定义覆盖以前的。")])]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[s._v("foo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nbar "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ugh"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nugh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Huh?\n\nx "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" abc\ny "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" efg\nx "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" later\nx "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?=")]),s._v(" condition\n\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("recursively")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    echo "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Huh? ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("simply")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    echo "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# abc efg")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("condition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    echo "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# later")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"判断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#判断"}},[s._v("#")]),s._v(" 判断")]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ifeq")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lhs, rhs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ifneq(l, r)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果lhs=rhs，则执行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ifeq")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l, r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果l=r，则执行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 其他情况")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"include"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#include"}},[s._v("#")]),s._v(" include")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("include filenames")]),s._v(": 在make读到这一行的时候暂停，去读filenames，读完继续。如果指定的filename不存在，则会先输出警告信息，在make remade之后如果还不存在，则报错(fatal)。文件搜寻顺序为当前文件夹，prefix/include (通常是/usr/local/include) /usr/gnu/include, /usr/local/include, /usr/include。")]),s._v(" "),t("li",[t("code",[s._v("-include filenames")]),s._v(": 如果filename不存在，则忽略它。")])]),s._v(" "),t("h3",{attrs:{id:"函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[s._v("#")]),s._v(" 函数")]),s._v(" "),t("p",[s._v("函数调用语法")]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("function arg0, arg1, ..."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"文本处理函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文本处理函数"}},[s._v("#")]),s._v(" 文本处理函数")]),s._v(" "),t("ul",[t("li",[s._v("subst函数: $(subst from, to , text)")]),s._v(" "),t("li",[s._v("patsubst函数: $(patsubst pattern, replacement, text),注意这里的"),t("code",[s._v("%")]),s._v("相当于正则表达式中的通配符"),t("code",[s._v("*")]),s._v("。")]),s._v(" "),t("li",[s._v("strip函数: $(strip string),将字符串开头和结尾的空白字符删除，字符串中词与词之间的空格只保留一个。")]),s._v(" "),t("li",[s._v("findstring函数: $(findstring find, in),如果in中有find则返回find本身，否则返回空。")]),s._v(" "),t("li",[s._v("filter函数: $(filter pattern..., text)，将text中每个词和各个pattern匹配，返回所有匹配任一pattern成功的词。")]),s._v(" "),t("li",[s._v("filter-out函数: 返回匹配不成功的。")]),s._v(" "),t("li",[s._v("sort函数: $(sort list)，将list中的单词按字典序返回，并且会去重。")]),s._v(" "),t("li",[s._v("word函数: $(word n, text)，将text中的第n个词返回。n大于text中词数则返回空。")]),s._v(" "),t("li",[s._v("wordlist函数: $(wordlist s, e, text),返回从s到e个单词。闭区间。")]),s._v(" "),t("li",[s._v("words函数: $(words text),返回text中单词个数。")]),s._v(" "),t("li",[s._v("firstword函数: $(firstwords text),返回text中第一个单词。")]),s._v(" "),t("li",[s._v("lastword函数: $(lastwords text),返回text中最后一个单词。")])]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[s._v("comma"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" ,\nempty"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v("\nspace"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nfoo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" a b c\nbar"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("subst")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("space"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(","),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("comma"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(","),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bar is now ‘a,b,c’")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"文件名相关函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件名相关函数"}},[s._v("#")]),s._v(" 文件名相关函数")]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("dir")]),s._v(" src/foo.c hacks"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# src/ ./")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("notdir")]),s._v(" src/foo.c hacks"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# foo.c hacks")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("suffix")]),s._v(" src/foo.c src-1.0/bar.c hacks"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# .c .c")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("basename")]),s._v(" src/foo.c src-1.0/bar hacks"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# src/foo src-1.0/bar hacks")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("addsuffix")]),s._v(" .c,foo bar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# foo.c bar.c")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("addprefix src/,foo bar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# src/foo src/bar")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" a b,.c .o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  a.c b.o // join list1,list2 将list1和list中的单词一一对应的连接。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wildcard")]),s._v(" pattern"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出当前目录下匹配的文件名。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("realpath")]),s._v(" names…"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出name文件的绝对路径，name必须是存在的文件或文件名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("abspath")]),s._v(" names…"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出name文件的绝对路径，name可以包含通配符")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h4",{attrs:{id:"wildcard"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wildcard"}},[s._v("#")]),s._v(" wildcard")]),s._v(" "),t("p",[t("code",[s._v("$(wildcard pattern...)")]),s._v(": 某些地方不能使用"),t("code",[s._v("%")]),s._v("通配符时，就需要使用该函数。输出当前目录下匹配的文件名。")]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[s._v("objects "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("patsubst")]),s._v(" %.c,%.o,"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wildcard")]),s._v(" *.c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token symbol"}},[s._v("foo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("objects"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        cc -o foo "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("objects"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"call"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#call"}},[s._v("#")]),s._v(" call")]),s._v(" "),t("p",[t("code",[s._v("$(call variable, param1, param2)")]),s._v(",其中variable是makefile中的变量，variable的值中的(0)代表自身的名字，(1)代表param1,$(2)代表param2，以此类推。")]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[s._v("reverse "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nfoo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("call")]),s._v(" reverse,a,b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# foo = b a")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"shell"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell"}},[s._v("#")]),s._v(" shell")]),s._v(" "),t("p",[t("code",[s._v("$(shell shellcmd)")]),s._v(": 创建shell执行shellcmd，返回shellcmd的输出。返回状态存储在"),t("code",[s._v(".SHELLSTATUS")]),s._v("变量中")]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[s._v("contents "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("shell")]),s._v(" cat foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"ssh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh"}},[s._v("#")]),s._v(" ssh")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssh-client "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只连接别的机器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssh-server "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本机作为服务器")]),s._v("\n/etc/init.d/ssh start "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 手动启动server")]),s._v("\n/etc/init.d/ssh stop "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止server")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/ssh/sshd_config "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置文件，可修改端口号")]),s._v("\n/etc/init.d/ssh restart "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改后需要重启server")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" user@ip "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录另一台开了openssh-server的机器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),s._v(" -I "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看本机ip地址")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("a",{attrs:{href:"https://www.netsarang.com/zh/free-for-home-school/",target:"_blank",rel:"noopener noreferrer"}},[s._v("xshell 免费版"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"任务管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#任务管理"}},[s._v("#")]),s._v(" 任务管理")]),s._v(" "),t("ul",[t("li",[s._v("将任务放到后台执行 "),t("code",[s._v("cmd &")]),s._v(" 会显示任务的序号和相关的PID")]),s._v(" "),t("li",[s._v("为了不让后台任务的输出影响前台，可以重定向流")]),s._v(" "),t("li",[s._v("将当前任务放到后台暂停 "),t("code",[s._v("C-z")])]),s._v(" "),t("li",[s._v("查看当前任务状态 "),t("code",[s._v("jobs")]),s._v(" "),t("ul",[t("li",[s._v("-l 列出任务序号，PID，任务状态，命令串")]),s._v(" "),t("li",[s._v("-r 仅列出后台run的任务")]),s._v(" "),t("li",[s._v("-s 仅列出后台stop的任务")]),s._v(" "),t("li",[t("code",[s._v("+")]),s._v(" 表示最近被放到后台的任务。 "),t("code",[s._v("-")]),s._v(" 表示最近第二个被放到后台的任务")])])]),s._v(" "),t("li",[s._v("将后台任务拿到前台处理 "),t("code",[s._v("fg [[%]jobnumber]")]),s._v(" "),t("ul",[t("li",[s._v("不加jobnumber，默认将最近被放到后台的任务拿出来")]),s._v(" "),t("li",[t("code",[s._v("fg -")]),s._v("，默认将最近第二个被放到后台的任务拿出来")]),s._v(" "),t("li",[t("code",[s._v("fg %1")]),s._v(" 指定将任务序号为1的任务拿出来")])])]),s._v(" "),t("li",[s._v("让任务在后台的状态变成运行中 "),t("code",[s._v("bg [[%]jobnumber]")])]),s._v(" "),t("li",[s._v("管理后台任务 "),t("code",[s._v("kill -signal %jobnumber")]),s._v(" "),t("ul",[t("li",[s._v("signal\n"),t("ul",[t("li",[s._v("-1: 重新读取一次参数的配置文件")]),s._v(" "),t("li",[s._v("-2: 相当于"),t("code",[s._v("C-c")])]),s._v(" "),t("li",[s._v("-9: 立刻强制删除一个任务")]),s._v(" "),t("li",[s._v("-15: 正常中止一个任务。默认值。")])])])])])]),s._v(" "),t("h2",{attrs:{id:"进程管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进程管理"}},[s._v("#")]),s._v(" 进程管理")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("ps -l")]),s._v(" 查看当前bash的相关进程\n"),t("ul",[t("li",[s._v("F: 进程标识(process flag)，说明进程的权限\n"),t("ul",[t("li",[s._v("4 root权限")]),s._v(" "),t("li",[s._v("1 仅fork，没有exec")])])]),s._v(" "),t("li",[s._v("S: 进程状态\n"),t("ul",[t("li",[s._v("R: Running")]),s._v(" "),t("li",[s._v("S: Sleep")]),s._v(" "),t("li",[s._v("D: 不可被唤醒的睡眠状态，如等待I/O")]),s._v(" "),t("li",[s._v("T: 停止状态(stop)")]),s._v(" "),t("li",[s._v("Z: Zombie，僵尸状态，进程已经被中止但无法移出内存")])])]),s._v(" "),t("li",[s._v("UID: 进程所属用户的UID")]),s._v(" "),t("li",[s._v("PID,PPID: 进程号，父进程的进程号")]),s._v(" "),t("li",[s._v("C: CPU使用率(%)")]),s._v(" "),t("li",[s._v("PRI: Priority 进程优先级")]),s._v(" "),t("li",[s._v("NI: Nice 进程优先级相关")]),s._v(" "),t("li",[s._v("ADDR: 进程在内存的那个部分。running进程显示 "),t("code",[s._v("-")])]),s._v(" "),t("li",[s._v("SZ: 进程使用的内存大小")]),s._v(" "),t("li",[s._v("WCHAN: 进程是否在运行 "),t("code",[s._v("-")]),s._v("表示运行中")]),s._v(" "),t("li",[s._v("TTY: 登录者的终端位置")]),s._v(" "),t("li",[s._v("TIME: 进程实际使用的CPU运行时间")]),s._v(" "),t("li",[s._v("CMD: 触发进程的命令")])])]),s._v(" "),t("li",[t("code",[s._v("ps aux")]),s._v(" 查看系统所有进程\n"),t("ul",[t("li",[s._v("VSZ: 进程使用的虚拟内存量(kB)")]),s._v(" "),t("li",[s._v("RSS: 进程使用的固定内存量(kB)")]),s._v(" "),t("li",[s._v("STAT: 同S")])])]),s._v(" "),t("li",[t("code",[s._v("top")]),s._v(" 动态查看进程的状态\n"),t("ul",[t("li",[s._v("-d n 指定更新状态间隔的秒数")]),s._v(" "),t("li",[s._v("-p PID 查看指定进程。要看多个进程，重复使用多次-p选项即可。")]),s._v(" "),t("li",[s._v("top 按键命令\n"),t("ul",[t("li",[s._v("? 帮助")]),s._v(" "),t("li",[s._v("P 以CPU使用率排序")]),s._v(" "),t("li",[s._v("M 以内存使用率排序")]),s._v(" "),t("li",[s._v("N 以PID排序")]),s._v(" "),t("li",[s._v("T 以进程使用的CPU时间排序")]),s._v(" "),t("li",[s._v("q 退出")]),s._v(" "),t("li",[s._v("k 给某个PID一个signal")]),s._v(" "),t("li",[s._v("r 给某个PID一个新nice值")])])])])]),s._v(" "),t("li",[t("code",[s._v("kill -signal PID")]),s._v(" 同jobs")])])])}),[],!1,null,null,null);a.default=n.exports}}]);