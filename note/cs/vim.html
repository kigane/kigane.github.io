<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vim | My Documentations</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.b27f4404.css" as="style"><link rel="preload" href="/assets/js/app.8f545648.js" as="script"><link rel="preload" href="/assets/js/2.f48cadb2.js" as="script"><link rel="preload" href="/assets/js/30.a1c5bd2d.js" as="script"><link rel="prefetch" href="/assets/js/10.182bdabd.js"><link rel="prefetch" href="/assets/js/11.0a855c6c.js"><link rel="prefetch" href="/assets/js/12.4f3f648f.js"><link rel="prefetch" href="/assets/js/13.c5728dd0.js"><link rel="prefetch" href="/assets/js/14.23a1db9c.js"><link rel="prefetch" href="/assets/js/15.3862d34c.js"><link rel="prefetch" href="/assets/js/16.80603a85.js"><link rel="prefetch" href="/assets/js/17.f345ec1b.js"><link rel="prefetch" href="/assets/js/18.9147adfe.js"><link rel="prefetch" href="/assets/js/19.89df9199.js"><link rel="prefetch" href="/assets/js/20.855a1c26.js"><link rel="prefetch" href="/assets/js/21.ba0249ad.js"><link rel="prefetch" href="/assets/js/22.0b5e6295.js"><link rel="prefetch" href="/assets/js/23.98fe590c.js"><link rel="prefetch" href="/assets/js/24.06b5926d.js"><link rel="prefetch" href="/assets/js/25.fdcffd10.js"><link rel="prefetch" href="/assets/js/26.b904848b.js"><link rel="prefetch" href="/assets/js/27.ccef4b8b.js"><link rel="prefetch" href="/assets/js/28.a764ba66.js"><link rel="prefetch" href="/assets/js/29.5eb16ce6.js"><link rel="prefetch" href="/assets/js/3.0b8b26d0.js"><link rel="prefetch" href="/assets/js/31.457daa63.js"><link rel="prefetch" href="/assets/js/32.597236ef.js"><link rel="prefetch" href="/assets/js/33.ca355b6b.js"><link rel="prefetch" href="/assets/js/34.30de6fa6.js"><link rel="prefetch" href="/assets/js/35.b523b073.js"><link rel="prefetch" href="/assets/js/36.1b105fa0.js"><link rel="prefetch" href="/assets/js/37.e08ef180.js"><link rel="prefetch" href="/assets/js/38.83780453.js"><link rel="prefetch" href="/assets/js/39.d999ad12.js"><link rel="prefetch" href="/assets/js/4.d1b6e8ed.js"><link rel="prefetch" href="/assets/js/40.34d1125e.js"><link rel="prefetch" href="/assets/js/41.6d2fd334.js"><link rel="prefetch" href="/assets/js/42.72110b15.js"><link rel="prefetch" href="/assets/js/43.43712eb3.js"><link rel="prefetch" href="/assets/js/44.035bbaed.js"><link rel="prefetch" href="/assets/js/45.27ca2c78.js"><link rel="prefetch" href="/assets/js/46.f8f34cfe.js"><link rel="prefetch" href="/assets/js/47.3b0ab0d4.js"><link rel="prefetch" href="/assets/js/48.68041b37.js"><link rel="prefetch" href="/assets/js/49.ede29cac.js"><link rel="prefetch" href="/assets/js/5.7d8c4629.js"><link rel="prefetch" href="/assets/js/50.e803f75c.js"><link rel="prefetch" href="/assets/js/51.78313b78.js"><link rel="prefetch" href="/assets/js/52.b766c1f5.js"><link rel="prefetch" href="/assets/js/6.3a2a2487.js"><link rel="prefetch" href="/assets/js/7.705f55e4.js"><link rel="prefetch" href="/assets/js/8.315a2b35.js"><link rel="prefetch" href="/assets/js/9.ea72da00.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b27f4404.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/ChernoLogo.png" alt="My Documentations" class="logo"> <span class="site-name can-hide">My Documentations</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Note" class="dropdown-title"><span class="title">Note</span> <span class="arrow down"></span></button> <button type="button" aria-label="Note" class="mobile-dropdown-title"><span class="title">Note</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/cg/" class="nav-link">
  Computer Graphics
</a></li><li class="dropdown-item"><!----> <a href="/note/gea/" class="nav-link">
  Game Engine Architecture
</a></li><li class="dropdown-item"><!----> <a href="/note/cpp/" class="nav-link">
  C/C++
</a></li><li class="dropdown-item"><!----> <a href="/note/cs/" class="nav-link router-link-active">
  Computer Science
</a></li><li class="dropdown-item"><!----> <a href="/note/opengl/" class="nav-link">
  OpenGL
</a></li><li class="dropdown-item"><!----> <a href="/note/js/" class="nav-link">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/hazel/" class="nav-link">
  Hazel
</a></div> <a href="https://github.com/kigane/MyBlogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Note" class="dropdown-title"><span class="title">Note</span> <span class="arrow down"></span></button> <button type="button" aria-label="Note" class="mobile-dropdown-title"><span class="title">Note</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/cg/" class="nav-link">
  Computer Graphics
</a></li><li class="dropdown-item"><!----> <a href="/note/gea/" class="nav-link">
  Game Engine Architecture
</a></li><li class="dropdown-item"><!----> <a href="/note/cpp/" class="nav-link">
  C/C++
</a></li><li class="dropdown-item"><!----> <a href="/note/cs/" class="nav-link router-link-active">
  Computer Science
</a></li><li class="dropdown-item"><!----> <a href="/note/opengl/" class="nav-link">
  OpenGL
</a></li><li class="dropdown-item"><!----> <a href="/note/js/" class="nav-link">
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/hazel/" class="nav-link">
  Hazel
</a></div> <a href="https://github.com/kigane/MyBlogs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/note/cs/" aria-current="page" class="sidebar-link">计算机概述</a></li><li><a href="/note/cs/asm-memo.html" class="sidebar-link">汇编</a></li><li><a href="/note/cs/gdb-cheatsheet.html" class="sidebar-link">gdb</a></li><li><a href="/note/cs/shell-cheatsheet.html" class="sidebar-link">shell</a></li><li><a href="/note/cs/vim.html" aria-current="page" class="active sidebar-link">vim</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/cs/vim.html#vim基础" class="sidebar-link">Vim基础</a></li><li class="sidebar-sub-header"><a href="/note/cs/vim.html#扩展vim" class="sidebar-link">扩展Vim</a></li><li class="sidebar-sub-header"><a href="/note/cs/vim.html#vim进阶" class="sidebar-link">Vim进阶</a></li><li class="sidebar-sub-header"><a href="/note/cs/vim.html#多文件-多窗口" class="sidebar-link">多文件，多窗口</a></li><li class="sidebar-sub-header"><a href="/note/cs/vim.html#ctags" class="sidebar-link">ctags</a></li><li class="sidebar-sub-header"><a href="/note/cs/vim.html#snippet" class="sidebar-link">snippet</a></li><li class="sidebar-sub-header"><a href="/note/cs/vim.html#语言支持" class="sidebar-link">语言支持</a></li></ul></li><li><a href="/note/cs/git.html" class="sidebar-link">git</a></li><li><a href="/note/cs/regex.html" class="sidebar-link">正则表达式</a></li><li><a href="/note/cs/linux.html" class="sidebar-link">Linux - Ubantu</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="vim基础"><a href="#vim基础" class="header-anchor">#</a> Vim基础</h2> <h3 id="资料"><a href="#资料" class="header-anchor">#</a> 资料</h3> <p><a href="https://missing-semester-cn.github.io/2020/editors/" target="_blank" rel="noopener noreferrer">学习Vim<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
vimtutor : Vim安装时自带的教程<br> <a href="https://vim-adventures.com/" target="_blank" rel="noopener noreferrer">Vim Adventures<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://vimways.org/2019/" target="_blank" rel="noopener noreferrer">Vim 小技巧<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/assets/img/vim-keyboard.png" alt="Vim 键盘图"></p> <h3 id="模式"><a href="#模式" class="header-anchor">#</a> 模式</h3> <p>Vim的设计以大多数时间都花在阅读、浏览和进行少量编辑改动为基础，因此它具有多种操作模式：</p> <ul><li>正常模式：在文件中四处移动光标进行修改</li> <li>插入模式：插入文本</li> <li>替换模式：替换文本</li> <li>可视化(一般，行，块)模式：选中文本块</li> <li>命令模式：用于执行命令</li></ul> <p>在不同的操作模式下，键盘敲击的含义也不同。</p> <p>按下 <code>ESC</code> 从任何其他模式返回正常模式。 在正常模式，键入 <code>i</code> 进入插入 模式， <code>R</code> 进入替换模式， <code>v</code> 进入可视(一般)模式， <code>V</code> 进入可视(行)模式， <code>Ctrl-V</code>, 有时也写作 <code>^V</code>进入可视(块)模式， <code>:</code> 进入命令模式。</p> <p>Vim 最重要的设计思想是 Vim 的界面本身是一个程序语言。键入操作本身是命令， 这些命令可以组合使用。这使得移动和编辑更加高效，特别是一旦形成肌肉记忆。</p> <h3 id="缓存-标签页-窗口"><a href="#缓存-标签页-窗口" class="header-anchor">#</a> 缓存，标签页，窗口</h3> <p>Vim 会维护一系列打开的文件，称为“缓存”。一个 Vim 会话包含一系列标签页，每个标签页包含一系列窗口(分隔面板)。每个窗口显示一个缓存(可以是同一个缓存)。</p> <p>Vim 默认打开一个标签页，这个标签也包含一个窗口。</p> <h3 id="基操"><a href="#基操" class="header-anchor">#</a> 基操</h3> <ul><li><code>vim $(fzf)</code></li> <li><code>:q</code>退出(关闭窗口)</li> <li><code>:w</code>保存当前文件(写)</li> <li><code>:w FILE</code> 另存为</li> <li><code>:wq</code>保存然后退出</li> <li><code>:e {文件名}</code> 打开要编辑的文件</li> <li><code>:ls</code>显示打开的缓存</li> <li><code>:help {标题}</code> 打开帮助文档
<ul><li><code>:help :w</code>打开 <code>:w</code>命令的帮助文档</li> <li><code>:help w</code>打开 <code>w</code> 移动的帮助文档</li></ul></li></ul> <h3 id="移动"><a href="#移动" class="header-anchor">#</a> 移动</h3> <p>正常模式下
在 Vim 里面移动也被称为 “名词”， 因为它们指向文字块。</p> <ul><li>基本移动: hjkl (左， 下， 上， 右)</li> <li>词： w (下一个词的首字母)， b (当前词首)， e (当前词尾)</li> <li>行： 0 (行初)， ^ (第一个非空格字符)， $ (行尾)</li> <li>屏幕： H (屏幕首行)， M (屏幕中间)， L (屏幕底部)</li> <li>翻页： Ctrl-u (上翻)， Ctrl-d (下翻)</li> <li>ctrl-g: 显示文件名，文件状态和光标位置信息</li> <li>文件： gg (文件头)， G (文件尾)</li> <li>行数： <code>:{num}&lt;CR&gt;</code>向下走num行 或者 <code>{num}G</code>转到第num行</li> <li><strong>杂项： % (找到配对，比如各种括号)</strong></li> <li>查找： f{字符}， t{字符}， F{字符}， T{字符}
<ul><li>查找(find)/到(to) 向前/向后 在本行的{字符}</li> <li><code>,</code> / <code>;</code> 用于导航匹配</li></ul></li> <li>搜索: <code>/{正则表达式}</code>, <code>n</code> / <code>N</code> 用于导航匹配，向后/向前</li> <li>r{char}: 替换一个字符</li> <li>R: 进入替换模式</li> <li>ctrl+f 向下翻页</li> <li>ctrl+b 向上翻页</li> <li>ctrl+d 向下翻半页</li> <li>ctrl+u 向上翻半页</li></ul> <h3 id="编辑"><a href="#编辑" class="header-anchor">#</a> 编辑</h3> <p>Vim 的编辑命令也被称为 “动词”， 因为动词可以施动于名词。</p> <ul><li>O / o 在之上/之下插入行，并进入编辑模式</li> <li>d{移动命令} 删除 {移动命令}
<ul><li>例如， dw 删除词, d$ 删除到行尾, d0 删除到行头。</li></ul></li> <li>c{移动命令} 改变 {移动命令}
<ul><li>例如， cw 改变词 相当于 d{移动命令} 再 i</li></ul></li> <li>x 删除字符（等同于 dl）</li> <li>s 替换字符（等同于 xi）</li> <li>可视化模式 + 操作
<ul><li>选中文字, d 删除 或者 c 改变</li></ul></li> <li>u 撤销, Ctrl-r 重做</li> <li>y 复制 (复制大段需要进入VISUAL模式)</li> <li>p 粘贴 (也可将刚刚删除的内容(储存在Vim寄存器中)粘贴到光标后)</li></ul> <h3 id="计数"><a href="#计数" class="header-anchor">#</a> 计数</h3> <p>你可以用一个计数来结合“名词”和“动词”，这会执行指定操作若干次。</p> <ul><li>3w 向前移动三个词</li> <li>5j 向下移动5行</li> <li>7dw 删除7个词</li></ul> <h3 id="修饰语"><a href="#修饰语" class="header-anchor">#</a> 修饰语</h3> <p>你可以用修饰语改变“名词”的意义。修饰语有 i，表示“内部”或者“在内“，和 a， 表示”周围“。</p> <ul><li>ci( 改变当前括号内的内容</li> <li>ci[ 改变当前方括号内的内容</li> <li>da' 删除一个单引号字符串， 包括周围的单引号</li></ul> <h2 id="扩展vim"><a href="#扩展vim" class="header-anchor">#</a> 扩展Vim</h2> <p>Vim 有很多扩展插件。从 Vim 8.0 开始，你可以使用内置的插件管理系统。只需要创建一个 ~/.vim/pack/vendor/start/ 的文件夹，然后把插件放到这里。</p> <p><a href="https://vimawesome.com/" target="_blank" rel="noopener noreferrer">vimawesome<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="vim进阶"><a href="#vim进阶" class="header-anchor">#</a> Vim进阶</h2> <h3 id="vim生成的文件"><a href="#vim生成的文件" class="header-anchor">#</a> vim生成的文件</h3> <ul><li>backup 是普通的加~备份.</li> <li>undobackup 加后缀un~。用于在下次打开文件时也可以执行撤销命令撤销上次的修改。</li> <li>writebackup 是防止灾难时的加~备份, 特点是文件正常写入之后就会自动删除. 也就是说如果你的文件有正常写入(不正常情况通常发生在磁盘快要满的时候), 你是很难见到这个文件出现的.</li> <li>swapfile 也是防止灾难, 不过是缓冲区的备份, 也就是你正在编辑的内容. 如果你在编辑的时候电脑断电或者Vim发生异常退出, 而你没有保存, 你可以从.file.txt.swp里恢复这个文件.</li></ul> <p>禁止备份功能<br>
在~/.vimrc中添加</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">set</span> nobackup
<span class="token builtin class-name">set</span> noundofile
<span class="token builtin class-name">set</span> nowritebackup
<span class="token builtin class-name">set</span> noswapfile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="搜索和替换"><a href="#搜索和替换" class="header-anchor">#</a> 搜索和替换</h3> <ul><li><code>:s/foo/bar/g</code> 当前行的foo替换成bar</li> <li><code>:%s/foo/bar/gc</code> 所有行的foo替换成bar，且需要一个个确认</li> <li><code>:5,12s/foo/bar/g</code> 5-12行的foo替换成bar</li></ul> <h3 id="宏"><a href="#宏" class="header-anchor">#</a> 宏</h3> <ul><li>q{字符} 来开始在寄存器{字符}中录制宏</li> <li>q停止录制</li> <li>@{字符} 重放宏</li> <li>宏的执行遇错误会停止</li> <li>{计数}@{字符}执行一个宏{计数}次</li></ul> <h3 id="在vim中执行外部命令"><a href="#在vim中执行外部命令" class="header-anchor">#</a> 在Vim中执行外部命令</h3> <p><code>:!external command&lt;CR&gt;</code>: <code>!</code>和回车之间的都是被当做外部命令执行。</p> <h3 id="保存选中部分-取回内容"><a href="#保存选中部分-取回内容" class="header-anchor">#</a> 保存选中部分，取回内容</h3> <p>按v进入可视化模式，移动以选择内容。然后<code>:w FILE</code>即可。<br>
注意按<code>:</code>后底部出现了<code>:'&lt;,'&gt;</code>。</p> <p><code>:r FILE</code> 将FILE内容放入光标下一行<br> <code>:r !cmd</code> 将cmd的输出放入光标下一行</p> <h3 id="设置"><a href="#设置" class="header-anchor">#</a> 设置</h3> <p><code>:set xxx</code></p> <ul><li>ic : 搜索时忽略大小写</li> <li>is : ？？？</li> <li>hls : 高亮匹配的字符</li> <li>noxxx : 取消xxx设置</li></ul> <h3 id="自动补全"><a href="#自动补全" class="header-anchor">#</a> 自动补全</h3> <p>Vim命令也有自动补全，<code>tab</code>补全唯一的一个,<code>ctrl-d</code>显示所有候选。</p> <h3 id="改键-map"><a href="#改键-map" class="header-anchor">#</a> 改键(map)</h3> <ul><li>前缀
<ul><li>nore: 非递归</li> <li>n: 在普通模式下生效</li> <li>v: VISUAL模式</li> <li>i: INSERT模式</li> <li>c: 命令模式</li></ul></li> <li>键表
<ul><li><code>&lt;k0&gt;</code> - <code>&lt;k9&gt;</code> 小键盘 0 到 9</li> <li><code>&lt;S-...&gt;</code> Shift＋键</li> <li><code>&lt;C-...&gt;</code> Control＋键</li> <li><code>&lt;M-...&gt;</code> Alt＋键 或 meta＋键</li> <li><code>&lt;A-...&gt;</code> 同 <code>&lt;M-...&gt;</code></li> <li><code>&lt;Esc&gt;</code> Escape 键</li> <li><code>&lt;Up&gt;</code> 光标上移键</li> <li><code>&lt;Space&gt;</code> 插入空格</li> <li><code>&lt;Tab&gt;</code> 插入Tab</li> <li><code>&lt;CR&gt;</code> 等于<code>&lt;Enter&gt;</code></li></ul></li></ul> <h2 id="多文件-多窗口"><a href="#多文件-多窗口" class="header-anchor">#</a> 多文件，多窗口</h2> <p>在不同文件buffer间切换</p> <ul><li>:bn 下一个文件buffer</li> <li>:bp 上一个文件buffer</li> <li>:ls 输出buffer列表</li> <li>:b[num] 切换到第num个buffer</li> <li>:b{bufname} 使用文件名切换</li></ul> <p>用 <code>:sp</code> / <code>:vsp</code> 来分割窗口<br>
同一个缓存可以在多个窗口中显示。</p> <p>切换</p> <ul><li><code>&lt;C-W&gt; j</code> 下一个</li> <li><code>&lt;C-W&gt; k</code> 上一个</li> <li><code>&lt;C-W&gt; h</code> 左边一个</li> <li><code>&lt;C-W&gt; l</code> 右边一个</li> <li><code>&lt;C-W&gt; w</code> 一个一个遍历窗口</li> <li><code>:close</code> 关闭当前窗口，不会退出Vim</li></ul> <p>调整窗口大小</p> <ul><li><code>[num]&lt;C-W&gt; +</code> 当前窗口增加一行</li> <li><code>[num]&lt;C-W&gt; -</code> 当前窗口减少一行</li></ul> <h2 id="ctags"><a href="#ctags" class="header-anchor">#</a> ctags</h2> <p><code>sudo apt-get install ctags</code></p> <h3 id="生成tags文件"><a href="#生成tags文件" class="header-anchor">#</a> 生成tags文件</h3> <p>在源码根目录下</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ctags --recurse<span class="token operator">=</span>yes --exclude<span class="token operator">=</span>.git --exclude<span class="token operator">=</span>vendor/* --<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样就会生成一个tags文件，ctags需要这个文件实现跳转。<br>
常用的选项可以写在 ~/.ctags 文件中</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>--recurse<span class="token operator">=</span>yes
--exclude<span class="token operator">=</span>.git
--exclude<span class="token operator">=</span>vendor/*
<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="how-to-use"><a href="#how-to-use" class="header-anchor">#</a> How to use</h3> <ul><li>找一个指定的tag，并用Vim打开其定义位置，在shell中使用 <code>vim -t &lt;tag&gt;</code>，也可以使用正则</li> <li>在Vim中
<ul><li><code>ctrl+]</code> 或 <code>g]</code> 或 <code>:ta[g] ctrl+rw</code> 跳转到tag</li> <li><code>:ts tag_name</code> 列出所有tag_name匹配的tag</li> <li><code>:pts tag_name</code> <code>:ts</code>功能，但有预览</li> <li><code>ctrl+w}</code> 或 <code>:ptag ctrl+rw</code> 预览tag</li> <li><code>ctrl+wz</code> 或 <code>:pc</code> 关闭上面打开的预览</li> <li><code>:tn</code> 或 <code>:tp</code> 在多个匹配的tag上跳转</li> <li><code>ctrl+t</code> 向tag栈底跳一格(相当于返回上一个tag)</li> <li><code>:tags</code> 显示tag栈，当前活动的有 <code>&gt;</code> 标记</li></ul></li> <li>使用正则
<ul><li><code>:tag main</code> 直接跳转到 tag &quot;main&quot;</li> <li><code>:tag /^get</code> 直接跳转到以&quot;get&quot;开头的 tag</li> <li><code>:tag /Final$</code> 直接跳转到以&quot;Final&quot;结尾的 tag</li> <li><code>:tag /norm</code> 列出包含&quot;norm&quot;的 tag</li> <li><code>:tag /Final$\C</code> 列出以&quot;Final&quot;结尾的 tag
PS：记得要保持tags索引文件最新</li></ul></li></ul> <h2 id="snippet"><a href="#snippet" class="header-anchor">#</a> snippet</h2> <h2 id="语言支持"><a href="#语言支持" class="header-anchor">#</a> 语言支持</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/cs/shell-cheatsheet.html" class="prev">
        shell
      </a></span> <span class="next"><a href="/note/cs/git.html">
        git
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8f545648.js" defer></script><script src="/assets/js/2.f48cadb2.js" defer></script><script src="/assets/js/30.a1c5bd2d.js" defer></script>
  </body>
</html>
