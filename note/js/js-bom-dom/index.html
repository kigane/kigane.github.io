<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BOM&amp;DOM&amp;Event | Leonhardt&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="alternate" type="application/atom+xml" href="https://kigane.github.io/atom.xml" title="Leonhardt&#39;s Blog Atom Feed">
    <link rel="alternate" type="application/json" href="https://kigane.github.io/feed.json" title="Leonhardt&#39;s Blog JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://kigane.github.io/rss.xml" title="Leonhardt&#39;s Blog RSS Feed">
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192">
    <link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png">
    <meta name="description" content="想，都是问题。做，才是答案。">
    <meta property="og:url" content="/note/js/js-bom-dom.html">
    <meta property="og:site_name" content="Leonhardt's Blog">
    <meta property="og:title" content="BOM&DOM&Event">
    <meta property="og:description" content="BOMwindow; window对象是JS的全局对象，所有全局作用域的变量和函数，都会变成window对象的属性和方法。; 全局变量和定义在window对象上的属性间的唯一差别是，全局变量不能delete，而window对象上的属性可以。; 访问未声明的全局变量会抛出错误，而访问未声明的window对象属性会返回undefined。; 页面中每个">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh-CN">
    <meta property="og:locale:alternate" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Leonhardt's Blog">
    <meta property="article:author" content="Leonhardt">
    <meta name="theme-color" content="#46bd87">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.fec63dd8.css" as="style"><link rel="preload" href="/assets/js/app.3cd4469b.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.6d9d91f8.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.a42f9c7b.js" as="script"><link rel="preload" href="/assets/js/page-BOMDOMEvent.42a17791.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.d0bef86f.js" as="script"><link rel="prefetch" href="/assets/js/76.2e9907f4.js"><link rel="prefetch" href="/assets/js/77.0f8f692c.js"><link rel="prefetch" href="/assets/js/78.4b003b6d.js"><link rel="prefetch" href="/assets/js/79.2fcd8948.js"><link rel="prefetch" href="/assets/js/layout-Blog.0fb9cc2a.js"><link rel="prefetch" href="/assets/js/layout-Layout.60f5be12.js"><link rel="prefetch" href="/assets/js/layout-NotFound.a56ee07b.js"><link rel="prefetch" href="/assets/js/layout-Slide.4c560ea5.js"><link rel="prefetch" href="/assets/js/page-Attentionisallyouneed.baa5963e.js"><link rel="prefetch" href="/assets/js/page-BlogHome.b0c49415.js"><link rel="prefetch" href="/assets/js/page-C++小知识.0b368ee5.js"><link rel="prefetch" href="/assets/js/page-CC++文件IO.c9e1b3e0.js"><link rel="prefetch" href="/assets/js/page-CSS基础.875f318d.js"><link rel="prefetch" href="/assets/js/page-CSS布局.6e36f66c.js"><link rel="prefetch" href="/assets/js/page-CSS模块化.adf5bd8c.js"><link rel="prefetch" href="/assets/js/page-CSS预处理器.ec6c1fd6.js"><link rel="prefetch" href="/assets/js/page-CSS高级话题.904d39ee.js"><link rel="prefetch" href="/assets/js/page-CustomLayout.8a26e5ba.js"><link rel="prefetch" href="/assets/js/page-C语言.143837f8.js"><link rel="prefetch" href="/assets/js/page-EffectivePython.b79a07cb.js"><link rel="prefetch" href="/assets/js/page-Hazel.a8a2b2b0.js"><link rel="prefetch" href="/assets/js/page-HelloVuepress.dd0d7903.js"><link rel="prefetch" href="/assets/js/page-ICS-PA心得.f380aada.js"><link rel="prefetch" href="/assets/js/page-IntroPage.2adf9b1c.js"><link rel="prefetch" href="/assets/js/page-JS基础.f3a15d39.js"><link rel="prefetch" href="/assets/js/page-JS对象.8c2c05e5.js"><link rel="prefetch" href="/assets/js/page-JS小知识.d9882c95.js"><link rel="prefetch" href="/assets/js/page-Linux-Ubantu.b1fa07a3.js"><link rel="prefetch" href="/assets/js/page-Markdown增强.b432ebc3.js"><link rel="prefetch" href="/assets/js/page-OpenCV.199c4e5d.js"><link rel="prefetch" href="/assets/js/page-OpenGL基础.f19fd22b.js"><link rel="prefetch" href="/assets/js/page-PyQt5ImageViewer示例.5ad9fd2e.js"><link rel="prefetch" href="/assets/js/page-PyQt5的ModelView组件.b2e331a6.js"><link rel="prefetch" href="/assets/js/page-PyQt5记录.874e79a9.js"><link rel="prefetch" href="/assets/js/page-VuePress默认主题设置.5a43c2cb.js"><link rel="prefetch" href="/assets/js/page-Vuejs.96a4c711.js"><link rel="prefetch" href="/assets/js/page-css小技巧.b0e419f2.js"><link rel="prefetch" href="/assets/js/page-eigen库.df22bdeb.js"><link rel="prefetch" href="/assets/js/page-gdb.59dd4d39.js"><link rel="prefetch" href="/assets/js/page-git.e66fda9d.js"><link rel="prefetch" href="/assets/js/page-i386.2e02844f.js"><link rel="prefetch" href="/assets/js/page-katex常用写法.0e5731bc.js"><link rel="prefetch" href="/assets/js/page-numpy用法.7fc12367.js"><link rel="prefetch" href="/assets/js/page-python.a9989672.js"><link rel="prefetch" href="/assets/js/page-riscv.2ae55748.js"><link rel="prefetch" href="/assets/js/page-shell.b66dcaad.js"><link rel="prefetch" href="/assets/js/page-vim.66d2eb55.js"><link rel="prefetch" href="/assets/js/page-分水岭算法.7648f429.js"><link rel="prefetch" href="/assets/js/page-名词解释.81f80c05.js"><link rel="prefetch" href="/assets/js/page-宏.77761aa1.js"><link rel="prefetch" href="/assets/js/page-密码加密的文章.b011ebe6.js"><link rel="prefetch" href="/assets/js/page-导言.a9b7fce5.js"><link rel="prefetch" href="/assets/js/page-帧缓冲(FrameBuffer).2f4588c0.js"><link rel="prefetch" href="/assets/js/page-异常控制流.f13df06b.js"><link rel="prefetch" href="/assets/js/page-我的博客.50351d2e.js"><link rel="prefetch" href="/assets/js/page-数字图像处理.b714481c.js"><link rel="prefetch" href="/assets/js/page-正则表达式.e8d63ad7.js"><link rel="prefetch" href="/assets/js/page-游戏引擎总览.2ab957e2.js"><link rel="prefetch" href="/assets/js/page-直方图均衡化.4929e043.js"><link rel="prefetch" href="/assets/js/page-算法.575201ef.js"><link rel="prefetch" href="/assets/js/page-组件禁用.7cf26010.js"><link rel="prefetch" href="/assets/js/page-编译器相关.9413f78d.js"><link rel="prefetch" href="/assets/js/page-虚拟内存.9ee58237.js"><link rel="prefetch" href="/assets/js/page-计算机概述.31109813.js"><link rel="prefetch" href="/assets/js/page-论文十问.ebb0d06e.js"><link rel="prefetch" href="/assets/js/page-资源与工具.b0c70b47.js"><link rel="prefetch" href="/assets/js/page-软件渲染器.496def59.js"><link rel="prefetch" href="/assets/js/page-这主题废弃了标题？.469f766a.js"><link rel="prefetch" href="/assets/js/page-随机数.de01a05a.js"><link rel="prefetch" href="/assets/js/page-页面配置.a1f657e0.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.bd023134.js"><link rel="prefetch" href="/assets/js/vendors~mermaid.d6f630f5.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.308088a1.js"><link rel="prefetch" href="/assets/js/vendors~reveal.76234f09.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fec63dd8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="/link.png" alt="Leonhardt's Blog" class="logo"> <!----> <span class="site-name can-hide">Leonhardt's Blog</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  Home
</a></div><div class="nav-item"><a href="/home/" class="nav-link"><i class="iconfont icon-notice"></i>
  Target
</a></div><div class="nav-item"><a href="/guide/" class="nav-link"><i class="iconfont icon-creative"></i>
  Guide
</a></div><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont icon-blog"></i>
  Blog
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Note" class="dropdown-title"><span class="title"><i class="iconfont icon-note"></i>
        Note
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/note/algorithm/" class="nav-link"><!---->
  Algorithm
</a></li><li class="dropdown-item"><a href="/note/cs/" class="nav-link"><!---->
  Computer Science
</a></li><li class="dropdown-item"><a href="/note/cv/" class="nav-link"><!---->
  Computer Vision
</a></li><li class="dropdown-item"><a href="/note/cpp/" class="nav-link"><!---->
  C/C++
</a></li><li class="dropdown-item"><a href="/note/opengl/" class="nav-link"><!---->
  OpenGL
</a></li><li class="dropdown-item"><a href="/note/js/" class="nav-link router-link-active active"><!---->
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/thesis/" class="nav-link"><i class="iconfont icon-article"></i>
  Thesis
</a></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/kigane/HopeBlog" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="/link.png" class="avatar round"> <div property="name" class="name">Leonhardt</div> <meta property="url" content="/intro/"></div> <div class="num-wrapper"><div><div class="num">62</div> <div>Articles</div></div> <div><div class="num">7</div> <div>Category</div></div> <div><div class="num">14</div> <div>Tags</div></div> <div><div class="num">62</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://zhihu.com" rel="noopener noreferrer" target="_blank" aria-label="Zhihu" data-balloon-pos="up" class="media-link"><span class="sr-only">Zhihu</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-zhihu"><circle cx="512" cy="512" r="512" fill="#006CE2"></circle> <path d="M513.65 491.261H411.551c1.615-16.154 5.815-60.095 5.815-84.973 0-24.88-.323-60.742-.323-60.742h102.744V329.39c0-21.647-9.37-31.34-17.124-31.34h-178.67s5.169-17.77 10.015-36.186c4.846-18.417 15.832-44.264 15.832-44.264-63.003 4.2-67.958 50.941-81.743 92.729-13.787 41.785-24.556 62.356-44.586 107.912 27.786 0 55.249-13.57 66.879-32.309 11.631-18.74 16.908-40.71 16.908-40.71h62.035v59.019c0 21.107-3.878 87.45-3.878 87.45H254.742c-19.386 0-29.724 48.894-29.724 48.894h133.76c-8.4 75.82-26.493 106.191-51.91 152.716-25.418 46.525-92.728 99.406-92.728 99.406 41.033 11.63 86.589-3.555 105.974-21.972 19.386-18.417 35.863-49.756 47.817-72.838 11.954-23.081 21.972-65.124 21.972-65.124L498.462 766.86s4.846-24.233 6.461-39.418c1.616-15.186-.755-26.385-4.63-35.433-3.878-9.046-15.509-21.54-31.018-39.634-15.507-18.094-48.034-52.879-48.034-52.879s-15.832 11.63-28.108 21.001c9.046-21.97 16.262-79.695 16.262-79.695h122.343v-20.249c.003-17.66-7.319-29.29-18.089-29.29zm287.337-200.747h-234.35a4.308 4.308 0 0 0-4.309 4.308v435.099a4.308 4.308 0 0 0 4.308 4.308h40.226l14.7 50.402 81.096-50.402h98.328a4.308 4.308 0 0 0 4.308-4.308v-435.1a4.308 4.308 0 0 0-4.308-4.308zM755.97 684.47h-52.343l-61.548 39.095-10.823-39.095h-18.738V338.116H755.97v346.355z" fill="#FFF"></path></svg></a><a href="https://baidu.com" rel="noopener noreferrer" target="_blank" aria-label="Baidu" data-balloon-pos="up" class="media-link"><span class="sr-only">Baidu</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-baidu"><circle cx="512" cy="512" r="512" fill="#1D2FE3"></circle> <path d="M239.022 704.978c.098-4.865-.314-9.772.162-14.591 5.178-52.464 197.571-253.377 249.641-259.233 42.996-4.833 75.768 16.545 99.824 49.144 37.893 51.351 82.81 95.455 131.292 136.237 52.903 44.503 56.525 99.801 32.6 158.592-23.425 57.56-75.34 69.833-127.771 58.804-84.971-17.874-168.158-13.744-253.37-4.536-86.35 9.333-133.788-39.4-132.378-124.417zM352.464 412.86c-3.58 50.707-17.93 96.128-75.9 98.12-58.053 1.995-80.093-41.432-79.275-91.71.81-49.705 13.416-104.053 76.851-102.136 53.84 1.625 74.74 45.8 78.324 95.726zm386.053 142.168c-68.494-1.735-84.188-43.331-82.635-93.812 1.46-47.519 10.082-97.628 73.299-96.65 61.395.95 81.6 43.207 81.553 98.668-.047 53.156-19.818 89.398-72.217 91.794zm-45.235-278.345c-10.464 42.665-24.513 91.761-85.919 94.502-52.74 2.354-71.705-34.482-72.805-81.242-1.233-52.42 48.08-112.965 87.582-110.373 33.943 2.226 71.146 49.541 71.142 97.113zm-195.147-14.097c-7.005 46.274-13.63 100.025-71.562 101.351-57.077 1.306-73.567-47.922-73.638-97.109-.068-48.054 12.128-99.024 69.345-101.426 59.45-2.493 67.11 51.093 75.855 97.184z" fill="#fff"></path> <path d="M479.52 663.165c.006 12.194 1.498 24.61-.284 36.537-4.707 31.503 18.862 78.749-45.326 77.534-54.226-1.027-103.338-3.31-113.231-73.536-7.164-50.852 7.78-85.674 57.687-102.668 17.67-6.016 39.618 5.058 54.096-14.548 10.84-14.679-2.901-54.592 33.418-41.47 24.075 8.7 11.477 38.922 13.278 59.652 1.68 19.366.359 38.99.363 58.5zm175.45 41.902c4.291 39.657 5.093 78.047-64.709 73.503-60.097-3.912-95.56-20.794-86.293-85.624 4.287-29.991-21.148-83.238 22.19-84.867 42.71-1.606 13.57 50.41 20.825 77.622 5.276 19.794-3.984 46.774 29.753 48.193 41.337 1.738 28.383-30.022 31.099-51.604 1.209-9.61-.85-19.65.528-29.215 2.516-17.474-8.928-44.716 19.554-47.191 36.044-3.133 24.155 28.376 26.678 47.523 1.896 14.387.375 29.225.375 51.66z" fill="#1D2FE3"></path> <path d="M435.669 685.038c-2.255 24.07 5.605 53.68-33.623 52.136-34.594-1.362-35.274-31.818-38.513-53.078-4.028-26.448 11.38-48.18 40.785-50.023 40.967-2.564 27.097 30.764 31.35 50.965z" fill="#fff"></path></svg></a><a href="https://github.com" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  Home
</a></div><div class="nav-item"><a href="/home/" class="nav-link"><i class="iconfont icon-notice"></i>
  Target
</a></div><div class="nav-item"><a href="/guide/" class="nav-link"><i class="iconfont icon-creative"></i>
  Guide
</a></div><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont icon-blog"></i>
  Blog
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Note" class="dropdown-title"><span class="title"><i class="iconfont icon-note"></i>
      Note
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/algorithm/" class="nav-link"><!---->
  Algorithm
</a></li><li class="dropdown-item"><!----> <a href="/note/cs/" class="nav-link"><!---->
  Computer Science
</a></li><li class="dropdown-item"><!----> <a href="/note/cv/" class="nav-link"><!---->
  Computer Vision
</a></li><li class="dropdown-item"><!----> <a href="/note/cpp/" class="nav-link"><!---->
  C/C++
</a></li><li class="dropdown-item"><!----> <a href="/note/opengl/" class="nav-link"><!---->
  OpenGL
</a></li><li class="dropdown-item"><!----> <a href="/note/js/" class="nav-link router-link-active active"><!---->
  JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/thesis/" class="nav-link"><i class="iconfont icon-article"></i>
  Thesis
</a></div> <a rel="noopener noreferrer" href="https://github.com/kigane/HopeBlog" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><a href="/note/js/" aria-current="page" class="sidebar-link">JS 小知识</a></li><li><a href="/note/js/js-base/" class="sidebar-link">JS 基础</a></li><li><a href="/note/js/js-object/" class="sidebar-link">JS 对象</a></li><li><a href="/note/js/js-bom-dom/" aria-current="page" class="active sidebar-link">BOM&amp;DOM&amp;Event</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js/js-bom-dom/#bom" class="sidebar-link">BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js/js-bom-dom/#间歇调用和超时调用" class="sidebar-link heading3">间歇调用和超时调用</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/js/js-bom-dom/#event" class="sidebar-link">Event</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js/js-bom-dom/#事件流" class="sidebar-link heading3">事件流</a></li><li class="sidebar-sub-header"><a href="/note/js/js-bom-dom/#事件处理程序" class="sidebar-link heading3">事件处理程序</a></li><li class="sidebar-sub-header"><a href="/note/js/js-bom-dom/#事件对象" class="sidebar-link heading3">事件对象</a></li><li class="sidebar-sub-header"><a href="/note/js/js-bom-dom/#事件类型" class="sidebar-link heading3">事件类型</a></li><li class="sidebar-sub-header"><a href="/note/js/js-bom-dom/#内存和性能" class="sidebar-link heading3">内存和性能</a></li></ul></li></ul></li><li><a href="/note/js/vue/" class="sidebar-link">Vue.js</a></li><li><a href="/note/js/css-basic/" class="sidebar-link">CSS 基础</a></li><li><a href="/note/js/css-layout/" class="sidebar-link">CSS布局</a></li><li><a href="/note/js/css-modular/" class="sidebar-link">CSS 模块化</a></li><li><a href="/note/js/css-advance/" class="sidebar-link">CSS 高级话题</a></li><li><a href="/note/js/css-sass/" class="sidebar-link">CSS 预处理器</a></li><li><a href="/note/js/css-tricks/" class="sidebar-link">css 小技巧</a></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/note/js/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">JS 小知识</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/note/js/js-bom-dom/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">BOM&amp;DOM&amp;Event</span></a> <meta property="position" content="2"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">BOM&amp;DOM&amp;Event</span></h1> <div class="page-info"><!----> <!----><!----><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-10-3</span></span><!----><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 12 min</span> <meta property="timeRequired" content="PT12M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/note/js/js-bom-dom/#bom" class="anchor-link heading2"><div>BOM</div></a></li><li class="anchor"><a href="/note/js/js-bom-dom/#间歇调用和超时调用" class="anchor-link heading3"><div>间歇调用和超时调用</div></a></li><li class="anchor"><a href="/note/js/js-bom-dom/#event" class="anchor-link heading2"><div>Event</div></a></li><li class="anchor"><a href="/note/js/js-bom-dom/#事件流" class="anchor-link heading3"><div>事件流</div></a></li><li class="anchor"><a href="/note/js/js-bom-dom/#事件处理程序" class="anchor-link heading3"><div>事件处理程序</div></a></li><li class="anchor"><a href="/note/js/js-bom-dom/#事件对象" class="anchor-link heading3"><div>事件对象</div></a></li><li class="anchor"><a href="/note/js/js-bom-dom/#事件类型" class="anchor-link heading3"><div>事件类型</div></a></li><li class="anchor"><a href="/note/js/js-bom-dom/#内存和性能" class="anchor-link heading3"><div>内存和性能</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h2 id="bom"><a href="#bom" class="header-anchor">#</a> BOM</h2> <ul><li>window
<ul><li>window对象是JS的全局对象，所有全局作用域的变量和函数，都会变成window对象的属性和方法。</li> <li>全局变量和定义在window对象上的属性间的唯一差别是，全局变量不能delete，而window对象上的属性可以。</li> <li>访问未声明的全局变量会抛出错误，而访问未声明的window对象属性会返回undefined。</li> <li>页面中每个frame都有自己的window对象，每个window对象都有一个name属性，<code>window.frames[name]</code>可以访问指定frame</li> <li>window.top对象始终指向最外层的frame，即浏览器窗口。</li> <li>window.parent指向外层的frame</li> <li>window.self === window</li> <li>window.open(url, windowOrFrameName, features, replaceInHistory) 在windowOrFrameName上打开新的url，如果windowOrFrameName不存在，用指定的features创建新窗口。被open的窗口的window.opener指向原窗口，原窗口对被open的窗口一无所知。</li> <li>对话框：alert, confirm, prompt</li></ul></li> <li>location
<ul><li>window.location === document.location</li> <li>location.href 完整的url。</li> <li>location.host hostname:port</li> <li>location.hostname</li> <li>location.port</li> <li>location.pathname</li> <li>location.search 以?开头的查询字符串</li> <li>location.hash url中#+后面部分。除了该属性，修改其他属性都会导致浏览器重新加载。</li> <li>location.replace(url) 加载新url，原url不会添加到历史记录中。</li> <li>location.reload(bImpose) 重新加载(false: 可能从缓存中加载，true: 从服务器重新加载)</li></ul></li> <li>navigator
<ul><li>navigator.cookieEnabled</li> <li>navigator.userAgent &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.63 Safari/537.36 Edg/93.0.961.38&quot;</li></ul></li> <li>history
<ul><li>history.back() 回退一页</li> <li>history.forward() 前进一页</li> <li>history.go(num) num&gt;0时前进，反之后退。</li></ul></li></ul> <h3 id="间歇调用和超时调用"><a href="#间歇调用和超时调用" class="header-anchor">#</a> 间歇调用和超时调用</h3> <ul><li>setTimeout(CallBackFn, time-ms) 经过time-ms后将当前任务添加到任务队列中。如果队列为空，则立即执行，否则，等待。</li> <li>setInterval(CallBackFn, time-ms)</li> <li>两个函数都会返回一个id标识符，可以调用相应的clearTimeout(id), clearInterval(id)取消调用。</li> <li>两个函数都是在全局作用域中执行的。无论在哪里调用。</li> <li>通常很少用setInterval，因为后一个间歇调用可能会在前一个间歇调用结束前启动。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">var</span> max <span class="token operator">=</span> <span class="token number">10</span>

<span class="token keyword">function</span> <span class="token function">incrementNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num<span class="token operator">++</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>incrementNum<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Done&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span>incrementNum<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>

<span class="token comment">// 相当于setInterval(incrementNum, 500)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="event"><a href="#event" class="header-anchor">#</a> Event</h2> <h3 id="事件流"><a href="#事件流" class="header-anchor">#</a> 事件流</h3> <p>事件流描述的是从页面接受事件的顺序。</p> <ul><li>事件冒泡：事件开始时由嵌套最深的元素接收，然后逐级向上传播。</li> <li>事件捕获：事件开始时由window对象接收，然后逐级向下传播到嵌套最深的元素。</li> <li>DOM2级事件：规定事件流包括三个阶段
<ul><li>事件捕获阶段 1</li> <li>处于目标阶段 2</li> <li>事件冒泡阶段 3</li></ul></li></ul> <h3 id="事件处理程序"><a href="#事件处理程序" class="header-anchor">#</a> 事件处理程序</h3> <p>即响应某个事件的函数。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Click Me<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>这里showMessage为事件处理程序调用的函数。在该函数内部，this为事件的目标元素(本例中为input)。</li> <li>在这个函数作用域内，可以像访问局部变量一样访问document和元素本身的成员。如果当前元素是一个表单元素(在form内)，则作用域中还会包含form元素。</li> <li>在html中指定事件处理程序可能会有时差问题，即html元素渲染好了，但showMessage函数还不可用，即JS还没执行到。</li> <li>DOM0级事件处理程序：用JS选中DOM对象中的指定元素，再将一个函数赋给事件处理程序(例如，el.onclick)。</li> <li>DOM2级事件处理程序：使用
<ul><li>addEventListener(eventName, EventCallBackFn, isCapture)</li> <li>removeEventListener(eventName, EventCallBackFn, isCapture)</li> <li>isCapture为true，表示在捕获阶段处理事件，为false表示在冒泡阶段处理事件。</li> <li>remove时的参数必须和add时的参数一模一样。如果add时使用的是匿名函数，则无法remove。</li> <li>这种方式可以为同一个事件设置多个处理函数。按照添加顺序触发。</li></ul></li></ul> <h3 id="事件对象"><a href="#事件对象" class="header-anchor">#</a> 事件对象</h3> <p>浏览器会将event对象传入事件处理程序中。</p> <table><thead><tr><th>属性/方法</th> <th>类型</th> <th>只读</th> <th>说明</th></tr></thead> <tbody><tr><td>type</td> <td>String</td> <td>Y</td> <td>事件的类型</td></tr> <tr><td>target</td> <td>Element</td> <td>Y</td> <td>事件的目标。(最上层元素？)</td></tr> <tr><td>currentTarget</td> <td>Element</td> <td>Y</td> <td>当前正在处理事件的元素。事件处理程序中的this。</td></tr> <tr><td>eventPhase</td> <td>Integer</td> <td>Y</td> <td>表明事件处理程序的阶段</td></tr> <tr><td>bubbles</td> <td>Boolean</td> <td>Y</td> <td>表明事件是否冒泡</td></tr> <tr><td>detail</td> <td>Integer</td> <td>Y</td> <td>事件相关细节信息</td></tr> <tr><td>cancelable</td> <td>Boolean</td> <td>Y</td> <td>表明是否可以取消事件的默认行为</td></tr> <tr><td>preventDefault()</td> <td>Function</td> <td>Y</td> <td>如果cancelable为true，取消事件的默认行为。</td></tr> <tr><td>defaultPrevented</td> <td>Boolean</td> <td>Y</td> <td>为true，说明已经调用了preventDefault()</td></tr> <tr><td>stopImmediatePropagation()</td> <td>Function</td> <td>Y</td> <td>取消事件进一步捕获或冒泡，同时阻止任何事件被调用。</td></tr> <tr><td>stopPropagation()</td> <td>Function</td> <td>Y</td> <td>如果bubbles为true，取消事件进一步捕获或冒泡。</td></tr> <tr><td>trusted</td> <td>Boolean</td> <td>Y</td> <td>为true表明是浏览器生成的，为false表示由JS生成的</td></tr></tbody></table> <h3 id="事件类型"><a href="#事件类型" class="header-anchor">#</a> 事件类型</h3> <h4 id="ui事件"><a href="#ui事件" class="header-anchor">#</a> UI事件</h4> <ul><li>load
<ul><li>当页面完全加载后（包括所有图像、JavaScript文件、CSS文件等外部资源），就会触发window上面的load事件。</li> <li>EventUtil.addHandler(window, &quot;load&quot;, function(e) {...})。建议使用。</li> <li>或在body元素中添加onload属性。</li> <li>img元素也有load事件，在图片加载完成时触发。</li></ul></li> <li>unload：在文档被完全卸载后触发。只要用户从一个页面切换到另一个页面，就会发生unload事件。而利用这个事件最多的情况是清除引用，以避免内存泄漏。</li> <li>select：当用户选择文本框（<code>&lt;input&gt;</code>或<code>&lt;texterea&gt;</code>）中的一或多个字符时触发。</li> <li>resize：当窗口或框架的大小变化时在window或框架上面触发。</li> <li>scroll：当用户滚动带滚动条的元素中的内容时，在该元素上面触发。</li> <li>resize和scroll触发频率很高。注意代码的简洁。</li></ul> <h4 id="焦点事件"><a href="#焦点事件" class="header-anchor">#</a> 焦点事件</h4> <ul><li>blur：在元素失去焦点时触发。这个事件不会冒泡。</li> <li>focus：在元素获得焦点时触发。不冒泡</li> <li>focusin：冒泡版focus</li> <li>focusout：冒泡版blur</li></ul> <h4 id="鼠标和滚轮事件"><a href="#鼠标和滚轮事件" class="header-anchor">#</a> 鼠标和滚轮事件</h4> <ul><li>click：在用户单击主鼠标按钮或者按下回车键时触发。</li> <li>dblclick：在用户双击主鼠标按钮时触发。</li> <li>mousedown：在用户按下了任意鼠标按钮时触发。不能通过键盘触发这个事件。</li> <li>mouseup：在用户释放鼠标按钮时触发。
<ul><li>event.button:0表示主鼠标按钮，1表示中间的鼠标滚轮按钮,2表示次鼠标按钮。</li></ul></li> <li>mousemove：当鼠标指针在元素内部移动时重复地触发。不能通过键盘触发这个事件。</li> <li>mouseout：在鼠标指针位于一个元素上方，然后用户将其移入另一个元素时触发。从A元素移动到B元素上，会触发A的mouseout，B的mouseover，A的relatedTarget是B，B的relatedTarget是A。</li> <li>mouseover：在鼠标指针位于一个元素外部，然后用户将其首次移入另一个元素边界之内时触发。</li> <li>事件触发顺序：mousedown-&gt;mouseup-&gt;click-&gt;mousedown-&gt;mouseup-&gt;click-&gt;dbclick</li> <li>mousewheel：滚动鼠标滚轮时触发。与mousewheel事件对应的event对象除包含鼠标事件的所有标准信息外，还包含一个特殊的wheelDelta属性。当用户向前滚动鼠标滚轮时，wheelDelta是120的倍数；当用户向后滚动鼠标滚轮时，wheelDelta是-120的倍数。</li></ul> <hr> <ul><li>视口坐标位置：事件对象的clientX和clientY属性，表示事件发生时鼠标指针在视口中的水平和垂直坐标。</li> <li>页面坐标位置：事件对象的pageX和pageY属性，能告诉你事件是在页面中的什么位置发生的。</li> <li>屏幕坐标位置：事件对象的screenX和screenY属性，表示事件发生时鼠标指针相对于整个屏幕的水平和垂直坐标。</li> <li>修饰键：事件对象的shiftKey、ctrlKey、altKey和metaKey属性，如果相应的键被按下了，则值为true。</li></ul> <h4 id="键盘和文本事件"><a href="#键盘和文本事件" class="header-anchor">#</a> 键盘和文本事件</h4> <ul><li>keydown：当用户按下键盘上的任意键时触发，而且如果按住不放的话，会重复触发此事件。</li> <li>keypress：当用户按下键盘上的字符键时触发，而且如果按住不放的话，会重复触发此事件。按下Esc键也会触发这个事件。</li> <li>keyup：当用户释放键盘上的键时触发。</li> <li>textInput：这个事件是对keypress的补充，用意是在将文本显示给用户之前更容易拦截文本。在文本插入文本框之前会触发textInput事件。
<ul><li>任何可以获得焦点的元素都可以触发keypress事件，但只有可编辑区域才能触发textInput事件。</li> <li>textInput事件只会在用户按下能够输入实际字符的键时才会被触发，而keypress事件则在按下那些能够影响文本显示的键时也会触发（例如退格键）。</li> <li>event.inputMethod
<ul><li>0，表示浏览器不确定是怎么输入的。</li> <li>1，表示是使用键盘输入的。</li> <li>2，表示文本是粘贴进来的。</li> <li>3，表示文本是拖放进来的。</li> <li>4，表示文本是使用IME输入的。</li> <li>5，表示文本是通过在表单中选择某一项输入的。</li> <li>6，表示文本是通过手写输入的（比如使用手写笔）。</li> <li>7，表示文本是通过语音输入的。</li> <li>8，表示文本是通过几种方法组合输入的。</li> <li>9，表示文本是通过脚本输入的。</li></ul></li></ul></li> <li>键盘事件与鼠标事件一样，都支持相同的修改键。而且，键盘事件的事件对象中也有shiftKey、ctrlKey、altKey和metaKey属性。</li></ul> <p><img src="/assets/img/js-keycode.png" alt="KeyCode">
keyCode: 即相应字符对应的ASCII码</p> <h4 id="变动事件"><a href="#变动事件" class="header-anchor">#</a> 变动事件</h4> <ul><li>DOMSubtreeModified：在DOM结构中发生任何变化时触发。这个事件在其他任何事件触发后都会触发。</li> <li>DOMNodeInserted：在一个节点作为子节点被插入到另一个节点中时触发。</li> <li>DOMNodeRemoved：在节点从其父节点中被移除时触发。</li> <li>DOMNodeInsertedIntoDocument：在一个节点被直接插入文档或通过子树间接插入文档之后触发。这个事件在DOMNodeInserted之后触发。</li> <li>DOMNodeRemovedFromDocument：在一个节点被直接从文档中移除或通过子树间接从文档中移除之前触发。这个事件在DOMNodeRemoved之后触发。</li> <li>DOMAttrModified：在特性被修改之后触发。</li> <li>DOMCharacterDataModified：在文本节点的值发生变化时触发。</li></ul> <h4 id="html5事件"><a href="#html5事件" class="header-anchor">#</a> HTML5事件</h4> <ul><li>contextmenu事件：右键单击时触发，使用event.preventDefalut()取消默认菜单。因为contextmenu事件属于鼠标事件，所以其事件对象中包含与光标位置有关的所有属性。通常使用contextmenu事件来显示自定义的上下文菜单，而使用onclick事件处理程序来隐藏该菜单。</li> <li>DOMContentLoaded事件：在形成完整的DOM树之后就会触发，不理会图像、JavaScript文件、CSS文件或其他资源是否已经下载完毕。</li> <li>hashchange事件：HTML5新增了hashchange事件，以便在URL的参数列表（及URL中“#”号后面的所有字符串）发生变化时通知开发人员。之所以新增这个事件，是因为在Ajax应用中，开发人员经常要利用URL参数列表来保存状态或导航信息。</li></ul> <h3 id="内存和性能"><a href="#内存和性能" class="header-anchor">#</a> 内存和性能</h3> <p>在JavaScript中，添加到页面上的事件处理程序数量将直接关系到页面的整体运行性能。导致这一问题的原因是多方面的。</p> <ol><li>每个函数都是对象，都会占用内存；内存中的对象越多，性能就越差。</li> <li>必须事先指定所有事件处理程序而导致的DOM访问次数，会延迟整个页面的交互就绪时间。</li></ol> <h4 id="事件委托"><a href="#事件委托" class="header-anchor">#</a> 事件委托</h4> <p>click、mousedown、mouseup、keydown、keyup和keypress事件适合采用事件委托技术。利用了事件冒泡，在事件冒泡到较高层次时统一处理，这样只指定一个事件处理程序，就可以管理某一类型的所有事件。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span>

EventUtil<span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    event <span class="token operator">=</span> EventUtil<span class="token punctuation">.</span><span class="token function">getEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> EventUtil<span class="token punctuation">.</span><span class="token function">getTarget</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>

    <span class="token keyword">switch</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span><span class="token operator">:</span> <span class="token string">&quot;aBtn&quot;</span><span class="token operator">:</span>
            document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;I changed the document's title&quot;</span>
            <span class="token keyword">break</span>
        <span class="token keyword">case</span> <span class="token string">&quot;bBtn&quot;</span><span class="token operator">:</span>
            location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;http://www.baidu.com&quot;</span>
            <span class="token keyword">break</span>
        <span class="token keyword">case</span><span class="token operator">:</span> <span class="token string">&quot;cBtn&quot;</span><span class="token operator">:</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hi&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="移除事件处理程序"><a href="#移除事件处理程序" class="header-anchor">#</a> 移除事件处理程序</h4> <p>内存中留有那些过时不用的“空事件处理程序”（dangling event handler），也是造成Web应用程序内存与性能问题的主要原因。</p> <p>在两种情况下，可能会造成上述问题。</p> <ol><li>从文档中移除带有事件处理程序的元素。这可能是通过纯粹的DOM操作，例如使用removeChild()和replaceChild()方法，但更多地是发生在使用innerHTML替换页面中某一部分的时候。如果带有事件处理程序的元素被innerHTML删除了，那么原来添加到元素中的事件处理程序极有可能无法被当作垃圾回收。(元素移除了，但事件处理程序还和元素保持着引用关系，浏览器很可能无法处理，而将元素和对事件处理程序的引用都保存在内存中，因而无法通过GC回收)</li> <li>卸载页面的时候。如果在页面被卸载之前没有清理干净事件处理程序，那它们就会滞留在内存中。每次加载完页面再卸载页面时（可能是在两个页面间来回切换，也可以是单击了“刷新”按钮），内存中滞留的对象数目就会增加，因为事件处理程序占用的内存并没有被释放。一般来说，最好的做法是在页面卸载之前，先通过onunload事件处理程序移除所有事件处理程序。在此，事件委托技术再次表现出它的优势——需要跟踪的事件处理程序越少，移除它们就越容易。</li></ol></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">2021年10月3日 10:18</span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/note/js/js-object/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        JS 对象
      </a></span> <span class="next"><a href="/note/js/vue/">
        Vue.js
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <footer class="footer-wrapper"><div class="media-links-wrapper"><a href="https://zhihu.com" rel="noopener noreferrer" target="_blank" aria-label="Zhihu" data-balloon-pos="up" class="media-link"><span class="sr-only">Zhihu</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-zhihu"><circle cx="512" cy="512" r="512" fill="#006CE2"></circle> <path d="M513.65 491.261H411.551c1.615-16.154 5.815-60.095 5.815-84.973 0-24.88-.323-60.742-.323-60.742h102.744V329.39c0-21.647-9.37-31.34-17.124-31.34h-178.67s5.169-17.77 10.015-36.186c4.846-18.417 15.832-44.264 15.832-44.264-63.003 4.2-67.958 50.941-81.743 92.729-13.787 41.785-24.556 62.356-44.586 107.912 27.786 0 55.249-13.57 66.879-32.309 11.631-18.74 16.908-40.71 16.908-40.71h62.035v59.019c0 21.107-3.878 87.45-3.878 87.45H254.742c-19.386 0-29.724 48.894-29.724 48.894h133.76c-8.4 75.82-26.493 106.191-51.91 152.716-25.418 46.525-92.728 99.406-92.728 99.406 41.033 11.63 86.589-3.555 105.974-21.972 19.386-18.417 35.863-49.756 47.817-72.838 11.954-23.081 21.972-65.124 21.972-65.124L498.462 766.86s4.846-24.233 6.461-39.418c1.616-15.186-.755-26.385-4.63-35.433-3.878-9.046-15.509-21.54-31.018-39.634-15.507-18.094-48.034-52.879-48.034-52.879s-15.832 11.63-28.108 21.001c9.046-21.97 16.262-79.695 16.262-79.695h122.343v-20.249c.003-17.66-7.319-29.29-18.089-29.29zm287.337-200.747h-234.35a4.308 4.308 0 0 0-4.309 4.308v435.099a4.308 4.308 0 0 0 4.308 4.308h40.226l14.7 50.402 81.096-50.402h98.328a4.308 4.308 0 0 0 4.308-4.308v-435.1a4.308 4.308 0 0 0-4.308-4.308zM755.97 684.47h-52.343l-61.548 39.095-10.823-39.095h-18.738V338.116H755.97v346.355z" fill="#FFF"></path></svg></a><a href="https://baidu.com" rel="noopener noreferrer" target="_blank" aria-label="Baidu" data-balloon-pos="up" class="media-link"><span class="sr-only">Baidu</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-baidu"><circle cx="512" cy="512" r="512" fill="#1D2FE3"></circle> <path d="M239.022 704.978c.098-4.865-.314-9.772.162-14.591 5.178-52.464 197.571-253.377 249.641-259.233 42.996-4.833 75.768 16.545 99.824 49.144 37.893 51.351 82.81 95.455 131.292 136.237 52.903 44.503 56.525 99.801 32.6 158.592-23.425 57.56-75.34 69.833-127.771 58.804-84.971-17.874-168.158-13.744-253.37-4.536-86.35 9.333-133.788-39.4-132.378-124.417zM352.464 412.86c-3.58 50.707-17.93 96.128-75.9 98.12-58.053 1.995-80.093-41.432-79.275-91.71.81-49.705 13.416-104.053 76.851-102.136 53.84 1.625 74.74 45.8 78.324 95.726zm386.053 142.168c-68.494-1.735-84.188-43.331-82.635-93.812 1.46-47.519 10.082-97.628 73.299-96.65 61.395.95 81.6 43.207 81.553 98.668-.047 53.156-19.818 89.398-72.217 91.794zm-45.235-278.345c-10.464 42.665-24.513 91.761-85.919 94.502-52.74 2.354-71.705-34.482-72.805-81.242-1.233-52.42 48.08-112.965 87.582-110.373 33.943 2.226 71.146 49.541 71.142 97.113zm-195.147-14.097c-7.005 46.274-13.63 100.025-71.562 101.351-57.077 1.306-73.567-47.922-73.638-97.109-.068-48.054 12.128-99.024 69.345-101.426 59.45-2.493 67.11 51.093 75.855 97.184z" fill="#fff"></path> <path d="M479.52 663.165c.006 12.194 1.498 24.61-.284 36.537-4.707 31.503 18.862 78.749-45.326 77.534-54.226-1.027-103.338-3.31-113.231-73.536-7.164-50.852 7.78-85.674 57.687-102.668 17.67-6.016 39.618 5.058 54.096-14.548 10.84-14.679-2.901-54.592 33.418-41.47 24.075 8.7 11.477 38.922 13.278 59.652 1.68 19.366.359 38.99.363 58.5zm175.45 41.902c4.291 39.657 5.093 78.047-64.709 73.503-60.097-3.912-95.56-20.794-86.293-85.624 4.287-29.991-21.148-83.238 22.19-84.867 42.71-1.606 13.57 50.41 20.825 77.622 5.276 19.794-3.984 46.774 29.753 48.193 41.337 1.738 28.383-30.022 31.099-51.604 1.209-9.61-.85-19.65.528-29.215 2.516-17.474-8.928-44.716 19.554-47.191 36.044-3.133 24.155 28.376 26.678 47.523 1.896 14.387.375 29.225.375 51.66z" fill="#1D2FE3"></path> <path d="M435.669 685.038c-2.255 24.07 5.605 53.68-33.623 52.136-34.594-1.362-35.274-31.818-38.513-53.078-4.028-26.448 11.38-48.18 40.785-50.023 40.967-2.564 27.097 30.764 31.35 50.965z" fill="#fff"></path></svg></a><a href="https://github.com" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a></div> <div class="footer">Less interests, more interest.</div> <div class="copyright">Copyright © 2021 Leonhardt</div></footer></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.3cd4469b.js" defer></script><script src="/assets/js/vendors~layout-Layout.6d9d91f8.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.a42f9c7b.js" defer></script><script src="/assets/js/page-BOMDOMEvent.42a17791.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.d0bef86f.js" defer></script>
  </body>
</html>
